(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6251a33e"],{e01a:function(e,t,c){"use strict";var a=c("23e7"),o=c("83ab"),r=c("da84"),n=c("5135"),d=c("861d"),i=c("9bf2").f,s=c("e893"),l=r.Symbol;if(o&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var u={},b=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof b?new l(e):void 0===e?l():l(e);return""===e&&(u[t]=!0),t};s(b,l);var p=b.prototype=l.prototype;p.constructor=b;var h=p.toString,j="Symbol(test)"==String(l("test")),O=/^Symbol\((.*)\)[^)]+$/;i(p,"description",{configurable:!0,get:function(){var e=d(this)?this.valueOf():this,t=h.call(e);if(n(u,e))return"";var c=j?t.slice(7,-1):t.replace(O,"$1");return""===c?void 0:c}}),a({global:!0,forced:!0},{Symbol:b})}},e6dc:function(e,t,c){"use strict";c.r(t);var a=c("5530"),o=c("7a23"),r=Object(o["createVNode"])("h1",null,"This is 產品列表頁面",-1),n={class:"table align-middle"},d=Object(o["createVNode"])("thead",null,[Object(o["createVNode"])("tr",null,[Object(o["createVNode"])("th",null,"圖片"),Object(o["createVNode"])("th",null,"商品名稱"),Object(o["createVNode"])("th",null,"價格"),Object(o["createVNode"])("th")])],-1),i={style:{width:"200px"}},s=Object(o["createVNode"])("div",{class:"h6"},null,-1),l={class:"h5"},u={class:"h5"},b={class:"btn-group btn-group-sm"},p=Object(o["createVNode"])("i",{class:"fas fa-spinner fa-pulse"},null,-1),h=Object(o["createTextVNode"])(" 查看更多 "),j=Object(o["createVNode"])("i",{class:"fas fa-spinner fa-pulse"},null,-1),O=Object(o["createTextVNode"])(" 加到購物車 ");function m(e,t,c,m,g,v){var f=Object(o["resolveComponent"])("Modal");return Object(o["openBlock"])(),Object(o["createBlock"])("div",null,[r,Object(o["createVNode"])("table",n,[d,Object(o["createVNode"])("tbody",null,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(g.products,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])("tr",{key:e.id},[Object(o["createVNode"])("td",i,[Object(o["createVNode"])("div",{style:[{height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:e.imageUrl?"url(".concat(e.imageUrl,")"):""}]},null,4)]),Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(e.title),1),Object(o["createVNode"])("td",null,[s,Object(o["createVNode"])("del",l," 原價 "+Object(o["toDisplayString"])(e.origin_price)+" 元 ",1),Object(o["createVNode"])("div",u,"現在只要 "+Object(o["toDisplayString"])(e.price)+" 元",1)]),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("div",b,[Object(o["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary",onClick:Object(o["withModifiers"])((function(t){return v.checkMoreDetails(e)}),["prevent"])},[p,h],8,["onClick"]),Object(o["createVNode"])("button",{type:"button",class:"btn btn-outline-danger",onClick:Object(o["withModifiers"])((function(t){return v.addToCart(Object(a["a"])(Object(a["a"])({},e),{},{qty:1}))}),["prevent"])},[j,O],8,["onClick"])])])])})),128))])]),Object(o["createVNode"])(f,{ref:"modal",product:g.tempProduct,onAddToCart:v.addToCart},null,8,["product","onAddToCart"])])}var g=c("1da1"),v=(c("96cf"),c("99af"),c("a4d3"),c("e01a"),{class:"modal fade",id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"}),f={class:"modal-dialog modal-xl",role:"document"},V={class:"modal-content border-0"},N={class:"modal-header bg-dark text-white"},y={class:"modal-title",id:"exampleModalLabel"},w={class:"modal-body"},k={class:"row"},x={class:"col-sm-6"},C={class:"col-sm-6"},M={class:"badge bg-primary rounded-pill"},S=Object(o["createVNode"])("div",{class:"h5"},null,-1),T={class:"h6"},D={class:"h5"},B={class:"input-group"};function $(e,t,c,a,r,n){return Object(o["openBlock"])(),Object(o["createBlock"])("div",v,[Object(o["createVNode"])("div",f,[Object(o["createVNode"])("div",V,[Object(o["createVNode"])("div",N,[Object(o["createVNode"])("h5",y,[Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(c.product.title),1)]),Object(o["createVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[1]||(t[1]=Object(o["withModifiers"])((function(){return e.modalClose&&e.modalClose.apply(e,arguments)}),["prevent"]))})]),Object(o["createVNode"])("div",w,[Object(o["createVNode"])("div",k,[Object(o["createVNode"])("div",x,[Object(o["createVNode"])("img",{class:"img-fluid",src:c.product.imageUrl},null,8,["src"])]),Object(o["createVNode"])("div",C,[Object(o["createVNode"])("span",M,Object(o["toDisplayString"])(c.product.category),1),Object(o["createVNode"])("p",null,"商品描述："+Object(o["toDisplayString"])(c.product.description),1),Object(o["createVNode"])("p",null,"商品內容："+Object(o["toDisplayString"])(c.product.content),1),S,Object(o["createVNode"])("del",T,"原價 "+Object(o["toDisplayString"])(c.product.origin_price)+" 元",1),Object(o["createVNode"])("div",D," 現在只要 "+Object(o["toDisplayString"])(c.product.price)+" 元 ",1),Object(o["createVNode"])("div",null,[Object(o["createVNode"])("div",B,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"number",class:"form-control",min:"1","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.modalCartQty=e})},null,512),[[o["vModelText"],r.modalCartQty,void 0,{number:!0}]]),Object(o["createVNode"])("button",{type:"button",class:"btn btn-primary",onClick:t[3]||(t[3]=Object(o["withModifiers"])((function(e){return n.modalAddToCart(c.product)}),["prevent"]))}," 加入購物車 ")])])])])])])])],512)}var R=c("7c2b"),P=c.n(R),Q={emits:["addToCart"],props:{product:{type:Object}},data:function(){return{modal:"",modalCartQty:1}},methods:{openModal:function(){this.modalCartQty=1,this.modal.show()},closeModal:function(){this.modal.hide()},modalAddToCart:function(e){this.$emit("addToCart",Object(a["a"])(Object(a["a"])({},e),{},{qty:this.modalCartQty})),this.closeModal()}},mounted:function(){this.modal=new P.a(this.$refs.modal,{backdrop:"static"})},watch:{}};Q.render=$;var q=Q,A={components:{Modal:q},inject:["httpMsg"],data:function(){return{products:[],tempProduct:{}}},methods:{getProducts:function(){var e=arguments,t=this;return Object(g["a"])(regeneratorRuntime.mark((function c(){var a,o,r,n;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return a=e.length>0&&void 0!==e[0]?e[0]:1,o=t.$loading.show(),r="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sec-hexschool","/products?page=").concat(a),c.prev=3,c.next=6,t.axios.get(r);case 6:if(n=c.sent,o.hide(),n.data.success){c.next=10;break}throw new Error(n.data.message);case 10:t.products=n.data.products,c.next=16;break;case 13:c.prev=13,c.t0=c["catch"](3),alert(c.t0.message);case 16:case"end":return c.stop()}}),c,null,[[3,13]])})))()},checkMoreDetails:function(e){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function c(){var a,o,r,n;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return a=e.id,o=t.$loading.show(),r="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sec-hexschool","/product/").concat(a),c.prev=3,c.next=6,t.axios.get(r);case 6:if(n=c.sent,o.hide(),n.data.success){c.next=10;break}throw new Error(n.data.message);case 10:t.tempProduct=n.data.product,t.$refs.modal.openModal(),c.next=17;break;case 14:c.prev=14,c.t0=c["catch"](3),alert(c.t0.message);case 17:case"end":return c.stop()}}),c,null,[[3,14]])})))()},addToCart:function(e){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function c(){var a,o,r,n,d,i,s,l,u;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return a=e.id,o=e.qty,r=t.$loading.show(),n="".concat("https://vue3-course-api.hexschool.io","/api/").concat("sec-hexschool","/cart"),d={product_id:a,qty:o},c.prev=4,c.next=7,t.axios.post(n,{data:d});case 7:if(i=c.sent,s=i.data,l=s.message,u=s.success,r.hide(),u){c.next=12;break}throw new Error(l);case 12:t.httpMsg(!0,l),c.next=18;break;case 15:c.prev=15,c.t0=c["catch"](4),t.httpMsg(!1,"加入购物车");case 18:case"end":return c.stop()}}),c,null,[[4,15]])})))()}},created:function(){this.getProducts()}};A.render=m;t["default"]=A}}]);
//# sourceMappingURL=chunk-6251a33e.f10c36b9.js.map